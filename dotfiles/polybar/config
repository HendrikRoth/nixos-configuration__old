[colors]
foreground = ${xrdb:foreground:#fff}
background = #0000

[bar/bar]
enable-ipc = true
height = 40
width = 100%
padding = 7
background = ${colors.background}
foreground = ${colors.foreground}
line-size = 2
modules-right = pulseaudio spotify time powermenu

; bspwm
modules-left = bspwm xwindow
scroll-up = bspwm-wsnext
scroll-down = bspwm-wsprev
wm-restack = bspwm
override-redirect = false

[module/xwindow]
type = internal/xwindow
label = %title:0:75:..%
label-empty = Empty
label-empty-font = 2
label-font = 2
format-margin = 4

[module/bspwm]
type = internal/bspwm
format = <label-state>
format-margin = 4
index-sort = true
enable-click = true
reverse-scroll = false
enable-scroll = true
label-focused = %index%
label-focused-underline = ${colors.foreground}
label-focused-padding = 4
label-focused-font = 2
label-empty =
label-occupied = %index%
label-occupied-padding = 4

[module/time]
type = internal/date
interval = 10
format-margin = 4
time = "%H:%M"
date = "%d %b"
label = %time% | %date%
label-background = ${colors.background}
label-padding = 2

[module/pulseaudio]
type = internal/pulseaudio
format-volume-margin = 6
format-volume = <ramp-volume><label-volume>
label-volume = %percentage:4:4%%
format-volume-background = ${colors.background}
format-volume-padding = 2
use-ui-max = false
interval = 5
ramp-volume-0 = ""
ramp-volume-1 = ""
ramp-volume-2 = ""
label-muted = " muted"   
label-muted-background = ${colors.background}
label-muted-padding = 2

[module/powermenu]
type = custom/menu
expand-right = false
format-margin = 2
format-spacing = 2
label-open = 
label-close = 
label-separator = |
; reboot
menu-0-1 = 
menu-0-1-exec = menu-open-1
; poweroff
menu-0-2 = 
menu-0-2-exec = menu-open-2
; logout
menu-0-0 = 
menu-0-0-exec = menu-open-1
menu-1-0 = 
menu-1-0-exec = reboot
menu-2-0 = 
menu-2-0-exec = poweroff

[module/spotify]
type = custom/script
format-margin = 4
format =    <label>
exec = playerctl metadata --format '{{artist}}: {{title}}'
tail = true
interval = 1
click-left = "playerctl play-pause"

[settings]
screenchange-reload = true
pseudo-transparency = false

[global/wm]
margin-top = 0
margin-bottom = 0